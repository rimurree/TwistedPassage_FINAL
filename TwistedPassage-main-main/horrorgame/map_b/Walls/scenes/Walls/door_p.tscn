[gd_scene load_steps=14 format=4 uid="uid://bjfg2h61k5hx8"]

[ext_resource type="Material" uid="uid://blmf5hwghq1ag" path="res://map_b/materials/materials/WallTrims_Mat.tres" id="1_52qas"]
[ext_resource type="Script" path="res://scripts/door2.gd" id="1_58vue"]
[ext_resource type="Script" path="res://scripts/door2_child.gd" id="2_6m068"]
[ext_resource type="AudioStream" uid="uid://b2bpisrriywsv" path="res://map_b/materials/sounds/locker_close.mp3" id="3_16dtn"]
[ext_resource type="AudioStream" uid="uid://drlc6d4i4dqkp" path="res://map_b/materials/sounds/lock-sound.mp3" id="4_5orxd"]
[ext_resource type="AudioStream" uid="uid://dk57hs6vvuj63" path="res://map_b/materials/sounds/locker_open.mp3" id="5_7srhy"]

[sub_resource type="ArrayMesh" id="ArrayMesh_uafe5"]
_surfaces = [{
"aabb": AABB(-1.17154, 9.71262e-08, -0.100001, 1.17154, 2.53736, 0.100001),
"format": 34896613377,
"index_count": 36,
"index_data": PackedByteArray("AgAGAAQAAgADAAYABQAAAAEABQAHAAAAAwAHAAYAAwAAAAcABQAGAAcABQAEAAYABAABAAIABAAFAAEAAQADAAIAAQAAAAMA"),
"name": "WallTrim",
"primitive": 3,
"uv_scale": Vector4(0, 0, 0, 0),
"vertex_count": 8,
"vertex_data": PackedByteArray("/v////7/AAAAAP////8AAAAAAAD+/wAA/v8AAP3/AAAAAAAAAAAAAAAA//8BAAAA/v8AAAAAAAD/////AAAAAA==")
}]
blend_shape_mode = 0

[sub_resource type="ArrayMesh" id="ArrayMesh_1m3ll"]
resource_name = "RoomTiles_Door"
_surfaces = [{
"aabb": AABB(-1.17154, 9.71262e-08, -0.100001, 1.17154, 2.53736, 0.100001),
"attribute_data": PackedByteArray("AADv7xIB7+8gEO/vAAAPkEsB/38gEA+Q3u8PkFr+/3///w+Q3u/v7+z+7+///+/v3u8PkN7vD5Ba/g+QSwEPkCAQD5AgEA+Q3u/v797v7+/s/v//EgH//yAQ7+8gEO/v"),
"format": 34896613399,
"index_count": 36,
"index_data": PackedByteArray("CAASAAwACAALABIAEQAAAAMAEQAXAAAACgAVABQACgABABUAEAATABYAEAANABMADgAEAAcADgAPAAQABQAJAAYABQACAAkA"),
"material": ExtResource("1_52qas"),
"name": "WallTrim",
"primitive": 3,
"uv_scale": Vector4(0, 0, 0, 0),
"vertex_count": 24,
"vertex_data": PackedByteArray("/v////7/VNX+/////v+qKv7////+//8/AAD/////VNUAAP////9U1QAA//////8/AAAAAP7//z8AAAAA/v9U1QAAAAD+/1TV/v8AAP3//z/+/wAA/f+qKv7/AAD9/1TVAAAAAAAAVNUAAAAAAAD//wAAAAAAAFTVAAD//wEAVNUAAP//AQD//wAA//8BAFTV/v8AAAAAVNX+/wAAAAD///7/AAAAAKoq/////wAAqir/////AAD///////8AAFTVVNWqKqmqVFX/f/9/VNWqKlRVqar/f/9//3//f1RVqaqqKlTV/3//f6mqVFWqKlTVqipU1f8//79UVamqVFWpqv8//79U1aoqqipU1f8//7+pqlRVqapUVf8//79U1aoq")
}]
blend_shape_mode = 0
shadow_mesh = SubResource("ArrayMesh_uafe5")

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_gu6vd"]
data = PackedVector3Array(-1.1715, 0, 0, 0, 0, -0.1, -1.1715, 0, -0.1, -1.1715, 0, 0, 0, 0, 0, 0, 0, -0.1, -1.1715, 2.5374, -0.1, 0, 2.5374, 0, -1.1715, 2.5374, 0, -1.1715, 2.5374, -0.1, 0, 2.5374, -0.1, 0, 2.5374, 0, 0, 0, 0, 0, 2.5374, -0.1, 0, 0, -0.1, 0, 0, 0, 0, 2.5374, 0, 0, 2.5374, -0.1, -1.1715, 2.5374, -0.1, 0, 0, -0.1, 0, 2.5374, -0.1, -1.1715, 2.5374, -0.1, -1.1715, 0, -0.1, 0, 0, -0.1, -1.1715, 0, -0.1, -1.1715, 2.5374, 0, -1.1715, 0, 0, -1.1715, 0, -0.1, -1.1715, 2.5374, -0.1, -1.1715, 2.5374, 0, -1.1715, 2.5374, 0, 0, 0, 0, -1.1715, 0, 0, -1.1715, 2.5374, 0, 0, 2.5374, 0, 0, 0, 0)

[sub_resource type="Animation" id="Animation_651fw"]
resource_name = "open"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:rotation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 1),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector3(0, 0, 0), Vector3(0, -1.67552, 0)]
}

[sub_resource type="Animation" id="Animation_00p07"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:rotation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(0, 0, 0)]
}

[sub_resource type="Animation" id="Animation_ak7cp"]
resource_name = "close"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:rotation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 1),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector3(0, -1.67552, 0), Vector3(0, 0, 0)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_2f1ki"]
_data = {
"RESET": SubResource("Animation_00p07"),
"close": SubResource("Animation_ak7cp"),
"open": SubResource("Animation_651fw")
}

[node name="DoorP" type="Node3D"]
script = ExtResource("1_58vue")

[node name="Door" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.0212598, 0.1366, -0.206376)
mesh = SubResource("ArrayMesh_1m3ll")
skeleton = NodePath("")
script = ExtResource("2_6m068")

[node name="StaticBody3D" type="StaticBody3D" parent="Door"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Door/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_gu6vd")

[node name="close" type="AudioStreamPlayer" parent="Door"]
stream = ExtResource("3_16dtn")
volume_db = 7.256

[node name="lock" type="AudioStreamPlayer" parent="Door"]
stream = ExtResource("4_5orxd")
volume_db = 0.045

[node name="open" type="AudioStreamPlayer" parent="Door"]
stream = ExtResource("5_7srhy")
volume_db = 2.419

[node name="AnimationPlayer" type="AnimationPlayer" parent="Door"]
libraries = {
"": SubResource("AnimationLibrary_2f1ki")
}
